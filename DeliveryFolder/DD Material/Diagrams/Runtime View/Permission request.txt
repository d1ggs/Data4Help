title Permission request
participantgroup #F6E4FB RequestManager
participant DataSearchAssistant
participant PermissionManager
end
participant User
participant PersistenceManager


activate PermissionManager
activate PersistenceManager
activate DataSearchAssistant
DataSearchAssistant->PermissionManager:checkPermission()

alt Permission granted
DataSearchAssistant<--PermissionManager:Permission OK
else Permission not found
DataSearchAssistant<--PermissionManager:Permission missing


PermissionManager->>User:askPermission()
activate User
deactivateafter User
PermissionManager<<-User:updatePermission()
activate User
deactivateafter User
PermissionManager->>PersistenceManager:newPermission()
PermissionManager<--PersistenceManager:Permission stored
else Permission already denied
DataSearchAssistant<--PermissionManager:Permission denied

end